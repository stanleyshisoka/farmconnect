<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FarmConnect - Farmers & Consumers Marketplace</title>
  <style>
    :root {
      --primary: #4CAF50;
      --primary-dark: #388E3C;
      --secondary: #FFC107;
      --light: #fdfdfd;
      --dark: #212121;
    }

    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif; scroll-behavior:smooth; }

    body {
      background: linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), 
                  url("https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1500&q=80") no-repeat center center fixed;
      background-size: cover;
      color:var(--dark);
      line-height:1.6;
    }

    header { 
      background:rgba(255,255,255,0.95); 
      backdrop-filter: blur(10px); 
      box-shadow:0 2px 15px rgba(0,0,0,0.1); 
      position:sticky; 
      top:0; 
      z-index:100; 
    }
    .container { width:90%; max-width:1200px; margin:0 auto; }

    .navbar { display:flex; justify-content:space-between; align-items:center; padding:15px 0; }
    .logo { font-size:26px; font-weight:bold; color:var(--primary); }
    .nav-links { display:flex; list-style:none; }
    .nav-links li { margin-left:20px; }
    .nav-links a { text-decoration:none; color:var(--dark); font-weight:500; transition:.3s; padding:6px 10px; border-radius:6px; }
    .nav-links a:hover { background:var(--primary); color:white; }

    .search-bar { display: flex; align-items: center; }
    .search-bar input { 
      padding:10px 16px; 
      border-radius:20px; 
      border:1px solid #ddd; 
      outline:none; 
      transition:.3s; 
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(5px);
      width: 200px;
    }
    .search-bar input:focus { 
      border-color:var(--primary); 
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
    }
    .search-btn {
      background: var(--primary);
      border: none;
      border-radius: 20px;
      padding: 10px 15px;
      margin-left: 5px;
      cursor: pointer;
      color: white;
      transition: all 0.3s;
    }
    .search-btn:hover {
      background: var(--primary-dark);
    }
    .lang-select { 
      padding:8px 12px; 
      border-radius:6px; 
      border:1px solid #ddd; 
      margin-left:10px; 
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(5px);
      cursor: pointer;
    }

    /* Sections */
    .section-title { 
      text-align:center; 
      margin-bottom:40px; 
      position: relative;
    }
    .section-title h2 {
      display: inline-block;
      padding-bottom: 10px;
      position: relative;
    }
    .section-title h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: var(--primary);
      border-radius: 2px;
    }
    
    .hero, .showcase, .orders, .news, .faq, .analysis, .farmer-dashboard { padding:70px 0; }
    .hero { 
      text-align:center; 
      background:rgba(255,255,255,0.85); 
      backdrop-filter: blur(10px);
      border-radius:20px; 
      margin-top:20px; 
      padding:50px 40px; 
      box-shadow:0 10px 30px rgba(0,0,0,0.1); 
      border: 1px solid rgba(255,255,255,0.5);
    }
    .hero h2 { font-size:36px; margin-bottom:15px; color:var(--primary-dark); }
    .hero p { font-size:18px; color:#444; margin-bottom:25px; }
    .hero-buttons a { 
      display:inline-block; 
      margin:10px; 
      padding:14px 30px; 
      border-radius:30px; 
      font-weight:600; 
      text-decoration:none; 
      transition:.3s; 
      box-shadow:0 4px 12px rgba(0,0,0,0.1); 
    }
    .sell-btn { background:var(--primary); color:white; }
    .buy-btn { background:var(--secondary); color:black; }
    .hero-buttons a:hover { 
      opacity:.9; 
      transform:scale(1.05); 
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }

    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:25px; }
    .card { 
      background:rgba(255,255,255,0.9); 
      backdrop-filter: blur(10px);
      border-radius:15px; 
      padding:20px; 
      box-shadow:0 5px 20px rgba(0,0,0,0.1); 
      transition:.3s; 
      border: 1px solid rgba(255,255,255,0.5);
      overflow: hidden;
    }
    .card:hover { 
      transform:translateY(-8px); 
      box-shadow:0 12px 25px rgba(0,0,0,0.15); 
    }
    .product-card img { 
      width:100%; 
      height: 200px;
      object-fit: cover;
      border-radius:10px; 
      margin-bottom:15px; 
      transition: transform 0.3s ease;
    }
    .product-card:hover img {
      transform: scale(1.05);
    }
    .product-card h3 { 
      font-size: 20px;
      margin-bottom: 8px;
      color: var(--dark);
    }
    .product-card p {
      font-weight: 600;
      color: var(--primary-dark);
      font-size: 18px;
    }
    .add-to-cart {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      width: 100%;
      margin-top: 10px;
      transition: all 0.3s;
    }
    .add-to-cart:hover {
      background: var(--primary-dark);
    }

    footer { 
      background:var(--dark); 
      color:white; 
      padding:40px 0; 
      text-align:center; 
      margin-top:50px; 
      border-radius:20px 20px 0 0; 
    }
    
    /* Login Modal Styles */
    .login-modal {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }
    
    .login-content {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 400px;
      text-align: center;
      position: relative;
      border: 1px solid rgba(255,255,255,0.3);
    }
    
    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #777;
      transition: color 0.3s;
    }
    
    .close-btn:hover {
      color: var(--primary);
    }
    
    .login-tabs { 
      display:flex; 
      margin-bottom: 25px; 
      background: rgba(245,245,245,0.8);
      border-radius: 10px;
      padding: 4px;
      backdrop-filter: blur(5px);
    }
    
    .login-tabs button {
      flex:1; 
      padding:12px; 
      border:none; 
      cursor:pointer;
      font-weight:600; 
      background: transparent;
      color: #666;
      border-radius: 8px;
      transition: all 0.3s ease;
    }
    
    .login-tabs .active { 
      background: var(--primary); 
      color: white; 
    }
    
    .login-form-group { 
      text-align:left; 
      margin-bottom:20px; 
    }
    
    .login-form-group label { 
      font-weight:500; 
      margin-bottom:8px; 
      display:block; 
      color: #333;
    }
    
    .login-form-group input, .login-form-group select, .login-form-group textarea {
      width:100%; 
      padding:14px; 
      border: 1px solid #ddd;
      border-radius:10px; 
      background: rgba(255,255,255,0.8);
      color: #333;
      font-size: 15px;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }
    
    .login-form-group input:focus, .login-form-group select:focus, .login-form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      background: white;
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
    }
    
    .login-submit-btn {
      width:100%; 
      padding:14px; 
      border: none;
      border-radius:10px; 
      background: var(--primary);
      color:white; 
      font-size:16px; 
      font-weight:600; 
      cursor:pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
    }
    
    .login-submit-btn:hover { 
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .hidden {
      display: none;
    }
    
    /* Order tracking form */
    .order-form {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    
    .order-form input {
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #ddd;
      width: 300px;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(5px);
    }
    
    .order-form button {
      padding: 12px 24px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }
    
    .order-form button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    /* Order status display */
    .order-status {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255,255,255,0.9);
      border-radius: 10px;
      text-align: center;
      display: none;
    }
    
    .order-status.success {
      border-left: 4px solid var(--primary);
      display: block;
    }
    
    .order-status.error {
      border-left: 4px solid #f44336;
      display: block;
    }
    
    /* Shopping Cart */
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 350px;
      height: 100%;
      background: white;
      box-shadow: -5px 0 15px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      padding: 20px;
      overflow-y: auto;
    }
    
    .cart-sidebar.active {
      right: 0;
    }
    
    .cart-header {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    .close-cart {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #777;
    }
    
    .cart-items {
      margin-bottom: 20px;
    }
    
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }
    
    .cart-item-info h4 {
      margin-bottom: 5px;
    }
    
    .cart-item-price {
      color: var(--primary-dark);
      font-weight: bold;
    }
    
    .remove-item {
      background: #f44336;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 5px 10px;
      cursor: pointer;
    }
    
    .cart-total {
      font-size: 18px;
      font-weight: bold;
      text-align: right;
      margin-bottom: 20px;
    }
    
    .checkout-btn {
      width: 100%;
      padding: 12px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .checkout-btn:hover {
      background: var(--primary-dark);
    }
    
    .cart-icon {
      position: relative;
      cursor: pointer;
      margin-left: 20px;
    }
    
    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Farmer Dashboard */
    .dashboard-tabs {
      display: flex;
      margin-bottom: 30px;
      background: rgba(245,245,245,0.8);
      border-radius: 10px;
      padding: 4px;
    }
    
    .dashboard-tab {
      flex: 1;
      padding: 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s;
    }
    
    .dashboard-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .dashboard-content {
      display: none;
    }
    
    .dashboard-content.active {
      display: block;
    }
    
    .product-form {
      background: rgba(255,255,255,0.9);
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .form-group input, .form-group select, .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: white;
    }
    
    .submit-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    
    .submit-btn:hover {
      background: var(--primary-dark);
    }
    
    .my-products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .product-management-card {
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      position: relative;
    }
    
    .product-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .edit-btn {
      background: var(--secondary);
      color: black;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      flex: 1;
    }
    
    .delete-btn {
      background: #f44336;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      flex: 1;
    }
    
    /* Order Confirmation Modal */
    .order-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .order-modal-content {
      background: white;
      padding: 30px;
      border-radius: 15px;
      max-width: 500px;
      width: 90%;
      text-align: center;
    }
    
    .order-id {
      font-size: 24px;
      font-weight: bold;
      color: var(--primary);
      margin: 15px 0;
    }
    
    /* Analysis Section Styles */
    .analysis-tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .analysis-tab {
      padding: 12px 24px;
      background: rgba(255,255,255,0.7);
      border: none;
      border-radius: 30px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      backdrop-filter: blur(5px);
    }
    
    .analysis-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .analysis-content {
      display: none;
    }
    
    .analysis-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .analysis-card {
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.5);
    }
    
    .analysis-card h3 {
      color: var(--primary-dark);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--primary);
      padding-bottom: 8px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .stat-item {
      text-align: center;
      padding: 15px;
      background: rgba(76, 175, 80, 0.1);
      border-radius: 10px;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: bold;
      color: var(--primary-dark);
    }
    
    .stat-label {
      font-size: 14px;
      color: #666;
    }
    
    .price-trend {
      margin: 20px 0;
      padding: 15px;
      background: rgba(255,255,255,0.7);
      border-radius: 10px;
      border-left: 4px solid var(--primary);
    }
    
    .source {
      font-size: 12px;
      color: #777;
      margin-top: 10px;
      font-style: italic;
    }
    
    .resource-links {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .resource-links h4 {
      margin-bottom: 15px;
      color: var(--primary-dark);
    }
    
    .resource-list {
      list-style-type: none;
    }
    
    .resource-list li {
      margin-bottom: 10px;
      padding-left: 20px;
      position: relative;
    }
    
    .resource-list li:before {
      content: "🌱";
      position: absolute;
      left: 0;
    }
    
    .resource-list a {
      color: var(--primary);
      text-decoration: none;
    }
    
    .resource-list a:hover {
      text-decoration: underline;
    }

    /* Mobile Responsiveness */
    @media (max-width: 1024px) {
      .container {
        width: 95%;
      }
      
      .navbar {
        flex-wrap: wrap;
        gap: 15px;
      }
      
      .nav-links {
        order: 3;
        width: 100%;
        justify-content: center;
        margin-top: 10px;
      }
      
      .search-bar {
        order: 2;
        flex-grow: 1;
        max-width: 300px;
      }
      
      .lang-select {
        order: 1;
      }
    }

    @media (max-width: 768px) {
      .hero h2 {
        font-size: 28px;
      }
      
      .hero p {
        font-size: 16px;
      }
      
      .hero-buttons a {
        display: block;
        margin: 10px 0;
      }
      
      .grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }
      
      .analysis-tabs {
        flex-direction: column;
        align-items: center;
      }
      
      .analysis-tab {
        width: 100%;
        max-width: 300px;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .order-form {
        flex-direction: column;
        align-items: center;
      }
      
      .order-form input {
        width: 100%;
        max-width: 300px;
        margin-bottom: 10px;
      }
      
      .login-content {
        width: 95%;
        padding: 30px 20px;
      }
      
      .cart-sidebar {
        width: 300px;
      }
      
      .dashboard-tabs {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      .logo {
        font-size: 22px;
      }
      
      .nav-links {
        flex-wrap: wrap;
        gap: 10px;
      }
      
      .nav-links li {
        margin-left: 0;
      }
      
      .hero {
        padding: 30px 20px;
      }
      
      .hero h2 {
        font-size: 24px;
      }
      
      .section-title h2 {
        font-size: 22px;
      }
      
      .card {
        padding: 15px;
      }
      
      .product-card h3 {
        font-size: 18px;
      }
      
      .product-card p {
        font-size: 16px;
      }
      
      .analysis-card {
        padding: 15px;
      }
      
      .login-tabs {
        flex-direction: column;
      }
      
      .search-bar input {
        padding: 8px 12px;
        width: 150px;
      }
      
      .lang-select {
        padding: 6px 8px;
      }
      
      .cart-sidebar {
        width: 100%;
        right: -100%;
      }
    }
  </style>
</head>
<body>

  <!-- Login Modal - shown by default -->
  <div id="loginModal" class="login-modal">
    <div class="login-content">
      <span class="close-btn" id="closeLogin">&times;</span>
      <h1 style="color: var(--primary); margin-bottom: 10px;">🌾 FarmConnect</h1>
      <p style="color: #555; margin-bottom: 25px;">Welcome! Please log in to continue.</p>

      <div class="login-tabs">
        <button class="active" onclick="switchLoginTab('farmer')">Farmer</button>
        <button onclick="switchLoginTab('consumer')">Consumer</button>
      </div>

      <!-- Farmer Login Form -->
      <form id="farmer-login-form">
        <div class="login-form-group">
          <label>Email</label>
          <input type="email" placeholder="Enter your email" required>
        </div>
        <div class="login-form-group">
          <label>Password</label>
          <input type="password" placeholder="Enter your password" required>
        </div>
        <div class="login-form-group">
          <label>Main Product</label>
          <select required>
            <option value="">Select your main product</option>
            <option>Grains</option>
            <option>Vegetables</option>
            <option>Fruits</option>
            <option>Dairy</option>
            <option>Poultry</option>
          </select>
        </div>
        <button class="login-submit-btn" type="submit">Login as Farmer</button>
      </form>

      <!-- Consumer Login Form -->
      <form id="consumer-login-form" style="display:none;">
        <div class="login-form-group">
          <label>Email</label>
          <input type="email" placeholder="Enter your email" required>
        </div>
        <div class="login-form-group">
          <label>Password</label>
          <input type="password" placeholder="Enter your password" required>
        </div>
        <div class="login-form-group">
          <label>Preferences</label>
          <select required>
            <option value="">Select your preference</option>
            <option>Organic</option>
            <option>Local</option>
            <option>Seasonal</option>
            <option>All</option>
          </select>
        </div>
        <button class="login-submit-btn" type="submit">Login as Consumer</button>
      </form>
      
      <p style="margin-top: 20px; font-size: 14px; color: #777;">
        Don't have an account? <a href="#" style="color: var(--primary);">Sign up here</a>
      </p>
    </div>
  </div>

  <!-- Shopping Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h3>Your Cart</h3>
      <button class="close-cart" id="closeCart">&times;</button>
    </div>
    <div class="cart-items" id="cartItems">
      <!-- Cart items will be added here dynamically -->
    </div>
    <div class="cart-total" id="cartTotal">
      Total: Ksh 0
    </div>
    <button class="checkout-btn" id="checkoutBtn">Checkout</button>
  </div>

  <!-- Order Confirmation Modal -->
  <div class="order-modal" id="orderModal">
    <div class="order-modal-content">
      <h2>🎉 Order Successful!</h2>
      <p>Your order has been placed successfully. Here is your order ID:</p>
      <div class="order-id" id="orderIdDisplay">ORD-12345</div>
      <p>You can use this ID to track your order status.</p>
      <button class="submit-btn" onclick="closeOrderModal()">Continue Shopping</button>
    </div>
  </div>

  <!-- Main Website Content - hidden until login -->
  <div id="mainContent" class="hidden">
    <!-- Navbar -->
    <header>
      <div class="container">
        <nav class="navbar">
          <div class="logo">🌾 FarmConnect</div>
          <ul class="nav-links">
            <li><a href="#showcase">Products</a></li>
            <li><a href="#analysis">Market Analysis</a></li>
            <li><a href="#orders">Orders</a></li>
            <li><a href="#news">News</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li id="farmerDashboardLink" class="hidden"><a href="#farmer-dashboard">My Farm</a></li>
            <li><a href="#" id="logoutBtn">Logout</a></li>
            <li class="cart-icon" id="cartIcon">
              🛒
              <span class="cart-count" id="cartCount">0</span>
            </li>
          </ul>
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="🔍 Search products...">
            <button class="search-btn" id="searchBtn">Search</button>
          </div>
          <select class="lang-select" id="langSelect">
            <option value="en">English</option>
            <option value="sw">Kiswahili</option>
          </select>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero">
      <div class="container">
        <h2 id="heroTitle">Connecting Farmers & Consumers</h2>
        <p id="heroSubtitle">Buy and sell farm produce directly without middlemen.</p>
        <div class="hero-buttons">
          <a href="#showcase" class="buy-btn">🛒 Buy Fresh Produce</a>
          <a href="#farmer-dashboard" class="sell-btn" id="sellProductsBtn">🌱 Sell My Products</a>
        </div>
      </div>
    </section>

    <!-- Farmer Dashboard -->
    <section class="farmer-dashboard hidden" id="farmer-dashboard">
      <div class="container">
        <div class="section-title">
          <h2>My Farm Dashboard</h2>
          <p>Manage your products and track your sales</p>
        </div>

        <div class="dashboard-tabs">
          <button class="dashboard-tab active" data-tab="add-product">Add New Product</button>
          <button class="dashboard-tab" data-tab="my-products">My Products</button>
          <button class="dashboard-tab" data-tab="sales">Sales & Analytics</button>
        </div>

        <!-- Add Product Form -->
        <div class="dashboard-content active" id="add-product">
          <div class="product-form">
            <h3>Add New Product</h3>
            <form id="addProductForm">
              <div class="form-group">
                <label>Product Name</label>
                <input type="text" id="productName" placeholder="e.g., Organic Tomatoes" required>
              </div>
              <div class="form-group">
                <label>Product Category</label>
                <select id="productCategory" required>
                  <option value="">Select Category</option>
                  <option value="vegetables">Vegetables</option>
                  <option value="fruits">Fruits</option>
                  <option value="grains">Grains</option>
                  <option value="dairy">Dairy</option>
                  <option value="poultry">Poultry</option>
                </select>
              </div>
              <div class="form-group">
                <label>Price (Ksh per Kg)</label>
                <input type="number" id="productPrice" placeholder="e.g., 120" required>
              </div>
              <div class="form-group">
                <label>Quantity Available (Kg)</label>
                <input type="number" id="productQuantity" placeholder="e.g., 50" required>
              </div>
              <div class="form-group">
                <label>Product Description</label>
                <textarea id="productDescription" rows="3" placeholder="Describe your product..."></textarea>
              </div>
              <div class="form-group">
                <label>Product Image URL</label>
                <input type="url" id="productImage" placeholder="https://example.com/image.jpg">
              </div>
              <button type="submit" class="submit-btn">Add Product</button>
            </form>
          </div>
        </div>

        <!-- My Products -->
        <div class="dashboard-content" id="my-products">
          <h3>My Products</h3>
          <div class="my-products-grid" id="myProductsGrid">
            <!-- Farmer's products will be displayed here -->
          </div>
        </div>

        <!-- Sales & Analytics -->
        <div class="dashboard-content" id="sales">
          <h3>Sales Overview</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="totalProducts">0</div>
              <div class="stat-label">Total Products</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="totalSales">0</div>
              <div class="stat-label">Total Sales (Ksh)</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="ordersCount">0</div>
              <div class="stat-label">Orders Received</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Showcase -->
    <section class="showcase" id="showcase">
      <div class="container">
        <div class="section-title"><h2 id="productsTitle">Available Products</h2></div>
        <div class="grid" id="productsGrid">
          <!-- Products will be loaded here -->
        </div>
      </div>
    </section>

    <!-- Market Analysis -->
    <section class="analysis" id="analysis">
      <div class="container">
        <div class="section-title"><h2 id="analysisTitle">Market & Product Analysis</h2></div>
        
        <div class="analysis-tabs">
          <button class="analysis-tab active" data-tab="market-overview">Market Overview</button>
          <button class="analysis-tab" data-tab="tomatoes">Tomatoes</button>
          <button class="analysis-tab" data-tab="maize">Maize</button>
          <button class="analysis-tab" data-tab="mangoes">Mangoes</button>
        </div>
        
        <!-- Market Overview -->
        <div class="analysis-content active" id="market-overview">
          <div class="analysis-card">
            <h3>Kenyan Agricultural Market Overview</h3>
            <p>Kenya's agricultural sector contributes approximately 33% to the GDP and employs over 40% of the total population. The sector has shown resilience despite climate challenges and market disruptions.</p>
            
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value">33%</div>
                <div class="stat-label">GDP Contribution</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">40%+</div>
                <div class="stat-label">Employment</div>
              </div>
              <div class="stat-item">
                <div class="stat-value">5.2%</div>
                <div class="stat-label">Growth (2023)</div>
              </div>
            </div>
            
            <div class="price-trend">
              <h4>Recent Price Trends</h4>
              <p>Tomato prices have increased by 15-20% due to seasonal factors and transportation costs. Maize prices remain stable with a slight upward trend. Mango prices are expected to decline as we enter peak season.</p>
            </div>
            
            <div class="source">Source: Kenya National Bureau of Statistics, FAO</div>
          </div>
          
          <div class="analysis-card">
            <h3>Key Market Drivers</h3>
            <ul>
              <li><strong>Climate Patterns:</strong> Rainfall distribution significantly impacts crop yields and market supply</li>
              <li><strong>Input Costs:</strong> Fertilizer and fuel prices affect production costs and final market prices</li>
              <li><strong>Consumer Demand:</strong> Urbanization driving demand for convenient, high-quality produce</li>
              <li><strong>Export Opportunities:</strong> Growing demand for Kenyan produce in international markets</li>
            </ul>
          </div>
        </div>
        
        <!-- Rest of analysis sections remain the same -->
        <!-- ... (previous analysis content) ... -->
        
      </div>
    </section>

    <!-- Orders -->
    <section class="orders" id="orders">
      <div class="container">
        <div class="section-title"><h2 id="ordersTitle">Track Your Order</h2></div>
        <div class="order-form">
          <input type="text" id="orderIdInput" placeholder="Enter Order ID">
          <button type="button" id="trackOrderBtn">Check Status</button>
        </div>
        <div class="order-status" id="orderStatus"></div>
      </div>
    </section>

    <!-- News -->
    <section class="news" id="news">
      <div class="container">
        <div class="section-title"><h2 id="newsTitle">Farming Tips & News</h2></div>
        <div class="grid">
          <div class="card">
            <h3>🌧 Weather Alert</h3>
            <p>Expect rains this week - good time for planting.</p>
          </div>
          <div class="card">
            <h3>💡 Tip</h3>
            <p>Mulching helps retain soil moisture and reduce weeds.</p>
          </div>
          <div class="card">
            <h3>📢 Market Update</h3>
            <p>Tomato prices have increased by 15% this month.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="faq" id="faq">
      <div class="container">
        <div class="section-title"><h2 id="faqTitle">FAQ</h2></div>
        <div class="grid">
          <div class="card">
            <h3>How do I register?</h3>
            <p>Click "Sell My Products" and fill in your details.</p>
          </div>
          <div class="card">
            <h3>Can I buy in bulk?</h3>
            <p>Yes, bulk orders are available directly from farmers.</p>
          </div>
          <div class="card">
            <h3>Is it free?</h3>
            <p>Yes! No charges for farmers or consumers to join.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <p>&copy; 2023 FarmConnect. Support this project via 0741268022</p>
      </div>
    </footer>
  </div>

  <script>
    // Language translations
    const translations = {
      en: {
        heroTitle: "Connecting Farmers & Consumers",
        heroSubtitle: "Buy and sell farm produce directly without middlemen.",
        productsTitle: "Available Products",
        analysisTitle: "Market & Product Analysis",
        ordersTitle: "Track Your Order",
        newsTitle: "Farming Tips & News",
        faqTitle: "FAQ",
        searchPlaceholder: "🔍 Search products...",
        orderPlaceholder: "Enter Order ID",
        trackButton: "Check Status",
        orderSuccess: "Order #ORD-12345 is on the way! Expected delivery: 2-3 days",
        orderError: "Order not found. Please check your Order ID",
        cartEmpty: "Your cart is empty",
        checkout: "Checkout"
      },
      sw: {
        heroTitle: "Kuunganisha Wakulima na Wateja",
        heroSubtitle: "Nunua na uuze mazao ya shamba moja kwa moja bila wapatanishi.",
        productsTitle: "Bidhaa Zilizopo",
        analysisTitle: "Uchambuzi wa Soko na Bidhaa",
        ordersTitle: "Fuatilia Oda Yako",
        newsTitle: "Vidokezo na Habari za Kilimo",
        faqTitle: "Maswali Yanayoulizwa Mara Kwa Mara",
        searchPlaceholder: "🔍 Tafuta bidhaa...",
        orderPlaceholder: "Weka Nambari ya Oda",
        trackButton: "Angalia Hali",
        orderSuccess: "Oda #ORD-12345 iko njiani! Uwasilishaji unatarajiwa: siku 2-3",
        orderError: "Oda haijapatikana. Tafadhali angalia Nambari yako ya Oda",
        cartEmpty: "Mkokoteni wako ni tupu",
        checkout: "Maliza Manunuzi"
      }
    };

    // Current language
    let currentLanguage = 'en';
    let currentUserType = '';
    let products = [];
    let farmerProducts = [];

    // Login functionality
    function switchLoginTab(tab) {
      const farmerForm = document.getElementById('farmer-login-form');
      const consumerForm = document.getElementById('consumer-login-form');
      const buttons = document.querySelectorAll('.login-tabs button');
      buttons.forEach(btn => btn.classList.remove('active'));

      if (tab === 'farmer') {
        farmerForm.style.display = 'block';
        consumerForm.style.display = 'none';
        buttons[0].classList.add('active');
      } else {
        farmerForm.style.display = 'none';
        consumerForm.style.display = 'block';
        buttons[1].classList.add('active');
      }
    }
    
    // Handle login form submissions
    document.getElementById('farmer-login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      currentUserType = 'farmer';
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('mainContent').classList.remove('hidden');
      document.getElementById('farmer-dashboard').classList.remove('hidden');
      document.getElementById('farmerDashboardLink').classList.remove('hidden');
      // Store login state
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('userType', 'farmer');
      loadFarmerProducts();
      updateDashboardStats();
    });
    
    document.getElementById('consumer-login-form').addEventListener('submit', function(e) {
      e.preventDefault();
      currentUserType = 'consumer';
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('mainContent').classList.remove('hidden');
      document.getElementById('farmer-dashboard').classList.add('hidden');
      document.getElementById('farmerDashboardLink').classList.add('hidden');
      // Store login state
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('userType', 'consumer');
      loadProducts();
    });
    
    // Close login modal (for demo purposes)
    document.getElementById('closeLogin').addEventListener('click', function() {
      // In a real app, you wouldn't allow closing without login
      // But for demo purposes, we'll allow it
      document.getElementById('loginModal').style.display = 'none';
      document.getElementById('mainContent').classList.remove('hidden');
      localStorage.setItem('isLoggedIn', 'true');
    });
    
    // Logout functionality
    document.getElementById('logoutBtn').addEventListener('click', function(e) {
      e.preventDefault();
      document.getElementById('mainContent').classList.add('hidden');
      document.getElementById('loginModal').style.display = 'flex';
      localStorage.removeItem('isLoggedIn');
      localStorage.removeItem('userType');
      currentUserType = '';
      cart = [];
      updateCart();
    });
    
    // Language switcher
    document.getElementById('langSelect').addEventListener('change', function(e) {
      currentLanguage = e.target.value;
      updateLanguage();
    });
    
    // Update language function
    function updateLanguage() {
      document.getElementById('heroTitle').textContent = translations[currentLanguage].heroTitle;
      document.getElementById('heroSubtitle').textContent = translations[currentLanguage].heroSubtitle;
      document.getElementById('productsTitle').textContent = translations[currentLanguage].productsTitle;
      document.getElementById('analysisTitle').textContent = translations[currentLanguage].analysisTitle;
      document.getElementById('ordersTitle').textContent = translations[currentLanguage].ordersTitle;
      document.getElementById('newsTitle').textContent = translations[currentLanguage].newsTitle;
      document.getElementById('faqTitle').textContent = translations[currentLanguage].faqTitle;
      document.getElementById('searchInput').placeholder = translations[currentLanguage].searchPlaceholder;
      document.getElementById('orderIdInput').placeholder = translations[currentLanguage].orderPlaceholder;
      document.getElementById('trackOrderBtn').textContent = translations[currentLanguage].trackButton;
      document.getElementById('checkoutBtn').textContent = translations[currentLanguage].checkout;
    }
    
    // Search functionality
    document.getElementById('searchBtn').addEventListener('click', function() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const productCards = document.querySelectorAll('.product-card');
      
      productCards.forEach(card => {
        const productName = card.querySelector('h3').textContent.toLowerCase();
        if (productName.includes(searchTerm)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
    
    // Order tracking
    document.getElementById('trackOrderBtn').addEventListener('click', function() {
      const orderId = document.getElementById('orderIdInput').value;
      const orderStatus = document.getElementById('orderStatus');
      
      if (orderId) {
        // Simulate order tracking
        orderStatus.textContent = translations[currentLanguage].orderSuccess;
        orderStatus.className = 'order-status success';
      } else {
        orderStatus.textContent = translations[currentLanguage].orderError;
        orderStatus.className = 'order-status error';
      }
    });
    
    // Shopping cart functionality
    let cart = [];
    
    // Add to cart functionality
    function setupAddToCartButtons() {
      document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', function() {
          const productCard = this.closest('.product-card');
          const productName = productCard.querySelector('h3').textContent;
          const productPrice = parseInt(productCard.querySelector('p').textContent.replace('Ksh ', '').replace(' / Kg', ''));
          const productImage = productCard.querySelector('img').src;
          
          // Add to cart
          cart.push({ 
            product: productName, 
            price: productPrice,
            image: productImage
          });
          updateCart();
          
          // Show cart sidebar
          document.getElementById('cartSidebar').classList.add('active');
        });
      });
    }
    
    // Update cart function
    function updateCart() {
      const cartItems = document.getElementById('cartItems');
      const cartCount = document.getElementById('cartCount');
      const cartTotal = document.getElementById('cartTotal');
      
      // Update cart count
      cartCount.textContent = cart.length;
      
      // Update cart items
      cartItems.innerHTML = '';
      if (cart.length === 0) {
        cartItems.innerHTML = `<p>${translations[currentLanguage].cartEmpty}</p>`;
      } else {
        let total = 0;
        cart.forEach((item, index) => {
          total += item.price;
          const cartItem = document.createElement('div');
          cartItem.className = 'cart-item';
          cartItem.innerHTML = `
            <div class="cart-item-info">
              <h4>${item.product}</h4>
              <div class="cart-item-price">Ksh ${item.price}</div>
            </div>
            <button class="remove-item" data-index="${index}">Remove</button>
          `;
          cartItems.appendChild(cartItem);
        });
        
        // Add event listeners to remove buttons
        document.querySelectorAll('.remove-item').forEach(button => {
          button.addEventListener('click', function() {
            const index = parseInt(this.getAttribute('data-index'));
            cart.splice(index, 1);
            updateCart();
          });
        });
        
        // Update total
        cartTotal.textContent = `Total: Ksh ${total}`;
      }
    }
    
    // Cart sidebar controls
    document.getElementById('cartIcon').addEventListener('click', function() {
      document.getElementById('cartSidebar').classList.add('active');
    });
    
    document.getElementById('closeCart').addEventListener('click', function() {
      document.getElementById('cartSidebar').classList.remove('active');
    });
    
    // Checkout functionality
    document.getElementById('checkoutBtn').addEventListener('click', function() {
      if (cart.length > 0) {
        // Generate order ID
        const orderId = 'ORD-' + Date.now().toString().slice(-6);
        document.getElementById('orderIdDisplay').textContent = orderId;
        
        // Show order confirmation modal
        document.getElementById('orderModal').style.display = 'flex';
        
        // Clear cart
        cart = [];
        updateCart();
        document.getElementById('cartSidebar').classList.remove('active');
      }
    });
    
    // Close order modal
    function closeOrderModal() {
      document.getElementById('orderModal').style.display = 'none';
    }
    
    // Farmer Dashboard functionality
    document.querySelectorAll('.dashboard-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        const targetTab = this.getAttribute('data-tab');
        
        // Update active tab
        document.querySelectorAll('.dashboard-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Show target content
        document.querySelectorAll('.dashboard-content').forEach(content => {
          content.classList.remove('active');
        });
        document.getElementById(targetTab).classList.add('active');
      });
    });
    
    // Add product form
    document.getElementById('addProductForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const product = {
        id: Date.now(),
        name: document.getElementById('productName').value,
        category: document.getElementById('productCategory').value,
        price: parseInt(document.getElementById('productPrice').value),
        quantity: parseInt(document.getElementById('productQuantity').value),
        description: document.getElementById('productDescription').value,
        image: document.getElementById('productImage').value || 'https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&w=600&q=80'
      };
      
      // Add to farmer's products
      farmerProducts.push(product);
      saveFarmerProducts();
      loadFarmerProducts();
      updateDashboardStats();
      
      // Reset form
      this.reset();
      
      // Show success message
      alert('Product added successfully!');
    });
    
    // Load farmer's products
    function loadFarmerProducts() {
      const myProductsGrid = document.getElementById('myProductsGrid');
      myProductsGrid.innerHTML = '';
      
      if (farmerProducts.length === 0) {
        myProductsGrid.innerHTML = '<p>No products added yet. Add your first product above.</p>';
        return;
      }
      
      farmerProducts.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'product-management-card';
        productCard.innerHTML = `
          <h4>${product.name}</h4>
          <p><strong>Category:</strong> ${product.category}</p>
          <p><strong>Price:</strong> Ksh ${product.price} / Kg</p>
          <p><strong>Quantity:</strong> ${product.quantity} Kg</p>
          <p>${product.description}</p>
          <div class="product-actions">
            <button class="edit-btn" data-id="${product.id}">Edit</button>
            <button class="delete-btn" data-id="${product.id}">Delete</button>
          </div>
        `;
        myProductsGrid.appendChild(productCard);
      });
      
      // Add event listeners for edit and delete buttons
      document.querySelectorAll('.edit-btn').forEach(button => {
        button.addEventListener('click', function() {
          const productId = parseInt(this.getAttribute('data-id'));
          editProduct(productId);
        });
      });
      
      document.querySelectorAll('.delete-btn').forEach(button => {
        button.addEventListener('click', function() {
          const productId = parseInt(this.getAttribute('data-id'));
          deleteProduct(productId);
        });
      });
    }
    
    // Edit product
    function editProduct(productId) {
      const product = farmerProducts.find(p => p.id === productId);
      if (product) {
        document.getElementById('productName').value = product.name;
        document.getElementById('productCategory').value = product.category;
        document.getElementById('productPrice').value = product.price;
        document.getElementById('productQuantity').value = product.quantity;
        document.getElementById('productDescription').value = product.description;
        document.getElementById('productImage').value = product.image;
        
        // Remove the product from the list
        deleteProduct(productId);
        
        // Scroll to the form
        document.getElementById('add-product').scrollIntoView();
      }
    }
    
    // Delete product
    function deleteProduct(productId) {
      farmerProducts = farmerProducts.filter(p => p.id !== productId);
      saveFarmerProducts();
      loadFarmerProducts();
      updateDashboardStats();
    }
    
    // Save farmer products to localStorage
    function saveFarmerProducts() {
      localStorage.setItem('farmerProducts', JSON.stringify(farmerProducts));
    }
    
    // Load farmer products from localStorage
    function loadFarmerProductsFromStorage() {
      const stored = localStorage.getItem('farmerProducts');
      if (stored) {
        farmerProducts = JSON.parse(stored);
      }
    }
    
    // Update dashboard stats
    function updateDashboardStats() {
      document.getElementById('totalProducts').textContent = farmerProducts.length;
      
      const totalSales = farmerProducts.reduce((sum, product) => {
        return sum + (product.price * product.quantity);
      }, 0);
      document.getElementById('totalSales').textContent = totalSales;
      
      // For demo, set orders count to a random number
      document.getElementById('ordersCount').textContent = Math.floor(Math.random() * 10);
    }
    
    // Load products for consumers
    function loadProducts() {
      const productsGrid = document.getElementById('productsGrid');
      productsGrid.innerHTML = '';
      
      // Combine default products with farmer products
      const allProducts = [
        {
          name: "Mangoes",
          price: 80,
          image: "https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&w=600&q=80",
          description: "Fresh, sweet mangoes from our farm"
        },
        {
          name: "Tomatoes",
          price: 120,
          image: "https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&w=600&q=80",
          description: "Organic tomatoes, freshly harvested"
        },
        {
          name: "Maize",
          price: 50,
          image: "https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?auto=format&fit=crop&w=600&q=80",
          description: "High-quality maize grains"
        }
      ].concat(farmerProducts);
      
      allProducts.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'card product-card';
        productCard.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <h3>${product.name}</h3>
          <p>Ksh ${product.price} / Kg</p>
          <p class="product-description">${product.description || 'Fresh farm produce'}</p>
          <button class="add-to-cart" data-product="${product.name}" data-price="${product.price}">Add to Cart</button>
        `;
        productsGrid.appendChild(productCard);
      });
      
      setupAddToCartButtons();
    }
    
    // Check if user is already logged in
    window.addEventListener('DOMContentLoaded', function() {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      const userType = localStorage.getItem('userType');
      
      // Load farmer products from storage
      loadFarmerProductsFromStorage();
      
      if (isLoggedIn === 'true') {
        document.getElementById('loginModal').style.display = 'none';
        document.getElementById('mainContent').classList.remove('hidden');
        
        if (userType === 'farmer') {
          currentUserType = 'farmer';
          document.getElementById('farmer-dashboard').classList.remove('hidden');
          document.getElementById('farmerDashboardLink').classList.remove('hidden');
          loadFarmerProducts();
          updateDashboardStats();
        } else {
          currentUserType = 'consumer';
          document.getElementById('farmer-dashboard').classList.add('hidden');
          document.getElementById('farmerDashboardLink').classList.add('hidden');
          loadProducts();
        }
      }
      
      // Analysis tab functionality
      const analysisTabs = document.querySelectorAll('.analysis-tab');
      analysisTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const targetTab = this.getAttribute('data-tab');
          
          // Update active tab
          analysisTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          // Show target content
          document.querySelectorAll('.analysis-content').forEach(content => {
            content.classList.remove('active');
          });
          document.getElementById(targetTab).classList.add('active');
        });
      });
      
      // Initialize cart
      updateCart();
    });
  </script>
</body>
</html>
